<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Tableau de Bord Administrateur</title>
    <!-- Bootstrap 5 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .hover-card:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }
        .icon-box {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }
    </style>
</head>
<body class="bg-light">

<!-- Header commun -->
<div th:replace="template :: navbar_admin"></div>

<div class="container mt-4">

    <!-- En-tête de bienvenue -->
    <div class="d-flex justify-content-between align-items-center mb-5">
        <div>
            <h2 class="fw-bold text-dark mb-0">Vue d'ensemble</h2>
            <p class="text-muted">Bienvenue sur votre espace d'administration.</p>
        </div>
        <div>
                <span class="badge bg-primary px-3 py-2 rounded-pill">
                    <i class="fas fa-calendar-day me-1"></i>
                    <span th:text="${#dates.format(#dates.createNow(), 'dd MMMM yyyy')}">Date</span>
                </span>
        </div>
    </div>

    <!-- Cartes Statistiques (KPIs) -->
    <div class="row g-4 mb-5">

        <!-- Carte Médecins -->
        <div class="col-md-4">
            <div class="card border-0 shadow-sm h-100 border-start border-4 border-primary hover-card">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <p class="text-muted mb-1 text-uppercase small fw-bold">Médecins</p>
                            <h2 class="fw-bold text-dark mb-0" th:text="${nbMedecins}">0</h2>
                        </div>
                        <div class="icon-box bg-primary bg-opacity-10 text-primary">
                            <i class="fas fa-user-md fa-lg"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-white border-0">
                    <a th:href="@{/medecins}" class="text-decoration-none text-primary small fw-bold">
                        Gérer le personnel <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Carte Patients -->
        <div class="col-md-4">
            <div class="card border-0 shadow-sm h-100 border-start border-4 border-success hover-card">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <p class="text-muted mb-1 text-uppercase small fw-bold">Patients</p>
                            <h2 class="fw-bold text-dark mb-0" th:text="${nbPatients}">0</h2>
                        </div>
                        <div class="icon-box bg-success bg-opacity-10 text-success">
                            <i class="fas fa-users fa-lg"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-white border-0">
                    <a th:href="@{/patients}" class="text-decoration-none text-success small fw-bold">
                        Dossiers patients <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Carte Rendez-Vous -->
        <div class="col-md-4">
            <div class="card border-0 shadow-sm h-100 border-start border-4 border-warning hover-card">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <p class="text-muted mb-1 text-uppercase small fw-bold">Rendez-Vous</p>
                            <h2 class="fw-bold text-dark mb-0" th:text="${nbRDV}">0</h2>
                        </div>
                        <div class="icon-box bg-warning bg-opacity-10 text-warning">
                            <i class="fas fa-calendar-check fa-lg"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-white border-0">
                    <a th:href="@{/rendezvous}" class="text-decoration-none text-warning small fw-bold">
                        Voir le planning <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Section Actions Rapides -->
    <h5 class="fw-bold text-dark mb-3"><i class="fas fa-plus text-warning me-2"></i>Actions directes</h5>
    <div class="row">
        <div class="col-md-6 mb-3">
            <a th:href="@{/admin/formMedecin}" class="card card-body border-0 shadow-sm text-decoration-none hover-card d-flex flex-row align-items-center">
                <div class="rounded-circle bg-primary text-white p-3 me-3">
                    <i class="fas fa-plus"></i>
                </div>
                <div>
                    <h6 class="mb-0 text-dark fw-bold">Ajouter un Médecin</h6>
                    <small class="text-muted">Créer un nouveau profil praticien</small>
                </div>
            </a>
        </div>
        <div class="col-md-6 mb-3">
            <a th:href="@{/admin/formPatient}" class="card card-body border-0 shadow-sm text-decoration-none hover-card d-flex flex-row align-items-center">
                <div class="rounded-circle bg-success text-white p-3 me-3">
                    <i class="fas fa-user-plus"></i>
                </div>
                <div>
                    <h6 class="mb-0 text-dark fw-bold">Ajouter un Patient</h6>
                    <small class="text-muted">Créer un nouveau dossier patient</small>
                </div>
            </a>
        </div>
    </div>

</div>

</body>
</html>